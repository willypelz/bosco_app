(function(e){var m=!0,n={headerSelector:"dt",zIndex:1},p=function(){var b=e(this),a=b.data("list");a&&(a.fakeHeader.width(a.headers.outerWidth()),a.wrapper.css("maxHeight",b.css("maxHeight")))},q=function(){var b=e(this),a=b.data("list");if(a){var d=null,c=a.headers.eq(a.currentHeader),k=a.currentHeader>=a.headers.length-1?null:a.headers.eq(a.currentHeader+1),f=0>=a.currentHeader?null:a.headers.eq(a.currentHeader-1),h=!1;a.containerTop=b.offset().top+parseInt(b.css("marginTop"),10)+parseInt(b.css("borderTopWidth"),
10);a.fakeHeader.css("top",0);if(null!==f){var g=c.offset().top,c=c.outerHeight();g>a.containerTop&&(a.fakeHeader.css("top",g-c-a.containerTop),a.fakeHeader.html(f.html()),a.currentHeader-=1,h=!0);g-c>a.containerTop&&(a.fakeHeader.css("top",0),d=a.currentHeader-1)}null!==k&&(g=k.offset().top,c=k.outerHeight(),g-c<a.containerTop&&a.fakeHeader.css("top",g-c-a.containerTop),g<a.containerTop&&(a.fakeHeader.css("top",0),d=a.currentHeader+1));null!==d&&(h=a.headers.eq(d),a.currentHeader=d,a.fakeHeader.html(h.html()),
h=!0);d=a.wrapper.scrollTop()>=a.wrapper.prop("scrollHeight")-a.wrapper.height();(h||d||a.max&&!d)&&b.trigger("headingChange",[a.currentHeader,a.headers.eq(a.currentHeader),d]);a.max=d;b.data("list",a)}},l={init:function(b){return e(this).each(function(){var a=e.extend({},n);"object"==typeof b&&e.extend(a,b);var d=e(this),c=d.data("list");c||(c={target:d,wrapper:d.wrapInner('<div class="ui-list" />').find(".ui-list"),settings:a,headers:[],containerTop:0,currentHeader:0,fakeHeader:null,scrolllist:[],
original:{position:"",overflowX:"",overflowY:""},max:!1},d.addClass("-list-container").css({position:"absolute"==d.css("position")?"absolute":"relative",overflowY:"hidden"}),c.headers=d.find(c.settings.headerSelector),c.fakeHeader=c.headers.eq(0).clone().removeAttr("id").addClass("-list-fakeheader").replaceWith('<div class="-list-fakeheader">'+c.headers.eq(0).html()+"</div>"),c.wrapper.bind("scroll.list",e.proxy(q,d)).css({height:"100%",maxHeight:d.css("maxHeight"),overflowY:"scroll",position:"relative"}),
c.fakeHeader.css({position:"absolute",top:0,width:c.headers.outerWidth(),zIndex:c.settings.zIndex}),e(window).bind("resize.list",e.proxy(p,d)),d.data("list",c).prepend(c.fakeHeader))})},header:function(){var b=e(this).data("list");if(b)return b.currentHeader},scrollTo:function(b,a,d,c){return this.each(function(){var k=e(this),f=k.data("list");if(f&&void 0!==b&&!isNaN(b)&&0<=b&&b<f.headers.length){var h=f.headers.eq(b),g=h.outerHeight()-h.height(),g=h.position().top+f.wrapper.scrollTop()+g;a?f.wrapper.stop().animate({scrollTop:g},
a,d,c):(f.wrapper.stop().scrollTop(g),f.currentHeader=b,f.fakeHeader.html(h.html()),k.trigger("headingChange",[b,h]),k.data("list",f))}})},option:function(b,a){var d=e(this),c=d.data("list");if(c){if("undefined"==typeof b)return c.settings;if(!b in c.settings)return!1;if("undefined"==typeof a)return c.settings[b];c.settings[b]=a;return d}},version:function(b){if(b){var a=["1","2","1"];b=(Number(a[0])||1)+"";var d=(Number(a[1])||0)+"",a=(Number(a[2])||0)+"";return Number("000".slice(0,3-b.length)+
b+"000".slice(0,3-d.length)+d+"000".slice(0,3-a.length)+a)}return"list v1.2.1"},destroy:function(){return this.each(function(){var b=e(this),a=b.data("list");a&&(a.wrapper.children().unwrap(),a.fakeHeader.remove(),b.css(a.original).removeData("list").removeClass("-list-container").unbind(".list"))})}};e.fn.list=function(b){if(l[b])return l[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof b&&b)e.error("Method "+b+" does not exist on jQuery.list");else return l.init.apply(this,
arguments)};e.list={};e.list.log=function(b){void 0!==b&&(m=b);return m}})(jQuery);